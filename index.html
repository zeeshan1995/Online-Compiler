<html>
    <head>
        <script src="/socket.io/socket.io.js"></script>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        
        <script>
            
            var socket=io();
            
            $(function($){
                
                //Sending
                $("#prog").submit(function(e){
                    e.preventDefault();
               //     alert("Hello");
                    socket.emit('compile',$("#code").val());
                })
            });
            
            //Receiving
            socket.on('compile_msg',function(msg){
                console.log(msg.split('^'));
                $("#compile_msg").html(msg);
            })
            
            socket.on('edited',function(code){
                $("#code").val(code);
            })
        </script>
    </head>
    
    <body>
        <div class="container" style="margin-top:1%;">
            <div class="row" style="width:100%;">
               
                <div class="col-xs-6" style="background-color:green; width:75%;height:75%;float:left">
                    
                     <form id="prog" name="prog"> 
                        <textarea name="code" id="code" style="width:100%;height:100% ;background-color:#f0f0f0;resize:none" oninput="send()"></textarea>
                        <input type="submit" name="button" id="button" value="Compile"/>
                    </form>
                    <script>
                        function send(){
                            socket.emit('edited',$("#code").val());
                        }
                    </script>
                </div>
                <div class="col-xs-6" id="compile_msg" style="background-color:#09e8d7; width:25%;height:75%;float:left"></div>
            </div>
        </div>
    </body>
</html>